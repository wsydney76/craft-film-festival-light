{% set settings = craft.app.plugins.plugin('ff').settings %}

{% include '@ff/partials/sidebar-lists.twig' with {
    lists: [
        {
            heading: 'Cast'|t('ff'),
            query: craft.entries.section('film').relatedTo({targetElement: entry, field: 'cast'}),
            enabled: true
        },
        {
            heading: 'Script'|t('ff'),
            query: craft.entries.section('film').relatedTo({targetElement: entry, field: 'script'}),
            enabled: settings.enableScript
        },
        {
            heading: 'Camera'|t('ff'),
            query: craft.entries.section('film').relatedTo({targetElement: entry, field: 'camera'}),
            enabled: settings.enableCamera
        },
        {
            heading: 'Director'|t('ff'),
            query: craft.entries.section('film').relatedTo({targetElement: entry, field: 'director'}),
            enabled: true
        },
    ]
} only %}

{% if entry.filmography %}
    {% embed "_layouts/embeds/widget.twig" with {heading: 'Filmography'|t('ff')} %}
        {% block content %}
            {{ entry.filmography|nl2br }}
        {% endblock %}
    {% endembed %}

{% endif %}
